(()=>{"use strict";var __webpack_modules__={311:()=>{eval("\n;// CONCATENATED MODULE: ./sources-js/pieces-classes/piece.js\nclass Piece {\r\n    constructor (color, type, chessboard, positionX, positionY) {\r\n        this.color = color;\r\n        this.type = type;\r\n        this.img = 'url(img/pieces/' + type.toLowerCase() + '_' + color +'.svg)';\r\n        this.chessboard = chessboard;\r\n        this.positionX = positionX;\r\n        this.positionY = positionY;\r\n    }\r\n    \r\n}\n;// CONCATENATED MODULE: ./sources-js/pieces-classes/pawn.js\n\r\n\r\nclass Pawn extends Piece {\r\n    constructor (color, type, chessboard, positionX, positionY) {\r\n        super(color,type, chessboard, positionX, positionY);\r\n    }\r\n    defineMoves () {\r\n        let potentialMoveX = this.positionX;\r\n        let potentialMoveY;\r\n        //ход вперед (не рубит)\r\n        let maxMove;\r\n        let vertical;\r\n        if (\r\n            this.positionY == 1 && this.color == 'white' || \r\n            this.positionY == 6 && this.color == 'black'\r\n            ) \r\n            {maxMove = 2;}\r\n        else {maxMove = 1;} \r\n        for (vertical = 1; vertical <=maxMove; vertical++) {\r\n            if (this.color == 'white') {potentialMoveY = this.positionY + vertical;}\r\n            if (this.color == 'black') {potentialMoveY = this.positionY - vertical;}\r\n            \r\n            if (!(this['chessboard']['board'][potentialMoveX][potentialMoveY] == null)) {break;}\r\n            this.chessboard.possibleMoves.push([potentialMoveX, potentialMoveY]);  \r\n        }\r\n        //срубить фигуру\r\n        vertical = 1;\r\n        if (this.color == 'white') {potentialMoveY = this.positionY + vertical;}\r\n        if (this.color == 'black') {potentialMoveY = this.positionY - vertical;}\r\n        for (let shiftX = -1; shiftX <= 1; shiftX +=2) {\r\n            potentialMoveX = this.positionX + shiftX;\r\n            if (potentialMoveY > 7 ||\r\n                potentialMoveY < 0 ||\r\n                potentialMoveX > 7 ||\r\n                potentialMoveX < 0 ||\r\n                this['chessboard']['board'][potentialMoveX][potentialMoveY] == null ||\r\n                this.color == this['chessboard']['board'][potentialMoveX][potentialMoveY]['color']\r\n                ) {continue;}\r\n            this.chessboard.possibleMoves.push([potentialMoveX, potentialMoveY]);  \r\n        }\r\n    }\r\n}\n;// CONCATENATED MODULE: ./sources-js/pieces-classes/beeshop.js\n\r\n\r\nclass Beeshop extends Piece {\r\n    constructor (color, type, chessboard, positionX, positionY) {\r\n        super(color,type, chessboard, positionX, positionY);\r\n    }\r\n    defineMoves () {\r\n        let potentialMoveX;\r\n        let potentialMoveY;\r\n        for (let horisontalDirection = -1; horisontalDirection <= 1; horisontalDirection +=2) {\r\n            for (let verticalDirection = -1; verticalDirection <= 1; verticalDirection +=2) {\r\n                for (let shift = 1; shift < 7; shift++) {\r\n                    potentialMoveX = this.positionX + shift * horisontalDirection;\r\n                    potentialMoveY = this.positionY + shift * verticalDirection;\r\n                    if (potentialMoveX > 7 ||\r\n                        potentialMoveX < 0 ||\r\n                        potentialMoveY > 7 ||\r\n                        potentialMoveY < 0 ||\r\n                            (\r\n                            !(this['chessboard']['board'][potentialMoveX][potentialMoveY] == null) &&\r\n                            this.color == this['chessboard']['board'][potentialMoveX][potentialMoveY]['color']\r\n                            )\r\n                        ) {break;}\r\n                    this.chessboard.possibleMoves.push([potentialMoveX, potentialMoveY]);  \r\n                    if (\r\n                        (\r\n                        !(this['chessboard']['board'][potentialMoveX][potentialMoveY] == null) &&\r\n                        !(this.color == this['chessboard']['board'][potentialMoveX][potentialMoveY]['color'])\r\n                        )\r\n                        ) {break;}\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n}\n;// CONCATENATED MODULE: ./sources-js/pieces-classes/knight.js\n\r\n\r\nclass Knight extends Piece {\r\n    constructor (color, type, chessboard, positionX, positionY) {\r\n        super(color,type, chessboard, positionX, positionY);\r\n    }\r\n    defineMoves () {\r\n        let potentialMoveX;\r\n        let potentialMoveY;\r\n        for (let horisontalDirection = -1; horisontalDirection <= 1; horisontalDirection += 2) {\r\n            for (let verticalDirection = -1; verticalDirection <= 1; verticalDirection +=2) {\r\n                for (let shiftX = 1; shiftX <=2; shiftX++) {\r\n                    for (let shiftY = 1; shiftY <=2; shiftY++) {\r\n                        potentialMoveX = this.positionX + shiftX * horisontalDirection;\r\n                        potentialMoveY = this.positionY + shiftY * verticalDirection;\r\n                        if (\r\n                            shiftX == shiftY ||\r\n                            potentialMoveX < 0 ||\r\n                            potentialMoveX > 7 ||\r\n                            potentialMoveY < 0 ||\r\n                            potentialMoveY > 7 ||\r\n                                (\r\n                                !(this['chessboard']['board'][potentialMoveX][potentialMoveY] == null) &&\r\n                                this.color == this['chessboard']['board'][potentialMoveX][potentialMoveY]['color']\r\n                                )               \r\n                            ) {continue;}\r\n                            this.chessboard.possibleMoves.push([potentialMoveX, potentialMoveY]);  \r\n                    }\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n}\n;// CONCATENATED MODULE: ./sources-js/pieces-classes/rook.js\n\r\n\r\nclass Rook extends Piece {\r\n    constructor (color, type, chessboard, positionX, positionY) {\r\n        super(color,type, chessboard, positionX, positionY);\r\n    }\r\n    defineMoves () {\r\n        let potentialMoveX;\r\n        let potentialMoveY;\r\n        for (let horisontalDirection = -1; horisontalDirection <= 1; horisontalDirection +=2) {\r\n            potentialMoveY = this.positionY;\r\n            for (let shiftX = 1; shiftX < 7; shiftX++) {\r\n                potentialMoveX = this.positionX + shiftX * horisontalDirection;\r\n                if (potentialMoveX > 7 ||\r\n                    potentialMoveX < 0 ||\r\n                        (\r\n                        !(this['chessboard']['board'][potentialMoveX][potentialMoveY] == null) &&\r\n                        this.color == this['chessboard']['board'][potentialMoveX][potentialMoveY]['color']\r\n                        )\r\n                    ) {break;}\r\n                this.chessboard.possibleMoves.push([potentialMoveX, potentialMoveY]);  \r\n                if (\r\n                    (\r\n                    !(this['chessboard']['board'][potentialMoveX][potentialMoveY] == null) &&\r\n                    !(this.color == this['chessboard']['board'][potentialMoveX][potentialMoveY]['color'])\r\n                    )\r\n                    ) {break;}\r\n            }\r\n        }\r\n        for (let verticalDirection = -1; verticalDirection <= 1; verticalDirection +=2) {\r\n            potentialMoveX = this.positionX;\r\n            for (let shiftY = 1; shiftY < 7; shiftY++) {\r\n                potentialMoveY = this.positionY + shiftY * verticalDirection;\r\n                if (potentialMoveY > 7 ||\r\n                    potentialMoveY < 0 ||\r\n                        (\r\n                        !(this['chessboard']['board'][potentialMoveX][potentialMoveY] == null) &&\r\n                        this.color == this['chessboard']['board'][potentialMoveX][potentialMoveY]['color']\r\n                        )\r\n                    ) {break;}\r\n                this.chessboard.possibleMoves.push([potentialMoveX, potentialMoveY]);  \r\n                if (\r\n                    (\r\n                    !(this['chessboard']['board'][potentialMoveX][potentialMoveY] == null) &&\r\n                    !(this.color == this['chessboard']['board'][potentialMoveX][potentialMoveY]['color'])\r\n                    )\r\n                    ) {break;}\r\n            }\r\n            \r\n        }\r\n    }\r\n}\n;// CONCATENATED MODULE: ./sources-js/chessboard.js\n\r\n\r\n\r\n\r\n\r\n\r\nclass Chessboard {\r\n    constructor (targetNode) {\r\n        this.initialPosition = [\r\n            //whites\r\n            {piece: \"pawn\", color: 'white', positionX: 0, positionY: 1},\r\n            {piece: \"pawn\", color: 'white', positionX: 1, positionY: 1},\r\n            {piece: \"pawn\", color: 'white', positionX: 2, positionY: 1},\r\n            {piece: \"pawn\", color: 'white', positionX: 3, positionY: 1},\r\n            {piece: \"pawn\", color: 'white', positionX: 4, positionY: 1},\r\n            {piece: \"pawn\", color: 'white', positionX: 5, positionY: 1},\r\n            {piece: \"pawn\", color: 'white', positionX: 6, positionY: 1},\r\n            {piece: \"pawn\", color: 'white', positionX: 7, positionY: 1},\r\n            {piece: \"rook\", color: 'white', positionX: 0, positionY: 0},\r\n            {piece: \"knight\", color: 'white', positionX: 1, positionY: 0},\r\n            {piece: \"beeshop\", color: 'white', positionX: 2, positionY: 0},\r\n            {piece: \"king\", color: 'white', positionX: 3, positionY: 0},\r\n            {piece: \"queen\", color: 'white', positionX: 4, positionY: 0},\r\n            {piece: \"beeshop\", color: 'white', positionX: 5, positionY: 0},\r\n            {piece: \"knight\", color: 'white', positionX: 6, positionY: 0},\r\n            {piece: \"rook\", color: 'white', positionX: 7, positionY: 0},\r\n            //blacks\r\n            {piece: \"pawn\", color: 'black', positionX: 0, positionY: 6},\r\n            {piece: \"pawn\", color: 'black', positionX: 1, positionY: 6},\r\n            {piece: \"pawn\", color: 'black', positionX: 2, positionY: 6},\r\n            {piece: \"pawn\", color: 'black', positionX: 3, positionY: 6},\r\n            {piece: \"pawn\", color: 'black', positionX: 4, positionY: 6},\r\n            {piece: \"pawn\", color: 'black', positionX: 5, positionY: 6},\r\n            {piece: \"pawn\", color: 'black', positionX: 6, positionY: 6},\r\n            {piece: \"pawn\", color: 'black', positionX: 7, positionY: 6},\r\n            {piece: \"rook\", color: 'black', positionX: 0, positionY: 7},\r\n            {piece: \"knight\", color: 'black', positionX: 1, positionY: 7},\r\n            {piece: \"beeshop\", color: 'black', positionX: 2, positionY: 7},\r\n            {piece: \"king\", color: 'black', positionX: 3, positionY: 7},\r\n            {piece: \"queen\", color: 'black', positionX: 4, positionY: 7},\r\n            {piece: \"beeshop\", color: 'black', positionX: 5, positionY: 7},\r\n            {piece: \"knight\", color: 'black', positionX: 6, positionY: 7},\r\n            {piece: \"rook\", color: 'black', positionX: 7, positionY: 7},\r\n            //--------------------------------------------------------------\r\n            {piece: \"queen\", color: 'black', positionX: 3, positionY: 2},\r\n            {piece: \"queen\", color: 'black', positionX: 3, positionY: 5},\r\n        ];\r\n        this.targetNode = targetNode;\r\n        this.turn = 'white'; \r\n        this.stage = \"select piece\"; //Возможные значения: select piece, select move\r\n        this.selectedPiece = null; \r\n        this.selectedPosition = null; //Возможные значения: null или массив позиции выбранной фигуры\r\n        this.possibleMoves = []; \r\n        this.board = []; \r\n        this.createBoard();\r\n    }\r\n\r\n    createBoard () {\r\n        \r\n        for (let row = 0; row < 8; row++ ) {\r\n            this.board.push([]);\r\n            let stripe = this['board'][row];\r\n            for (let column = 0; column < 8; column++) {\r\n                stripe.push(null);\r\n            }\r\n        }\r\n    }\r\n\r\n    createHTMLboard () {\r\n        let chessboard = document.createElement('div');\r\n        chessboard.classList.add('chessboard');\r\n        this.targetNode.appendChild(chessboard);\r\n        let chessboard__field = document.createElement('div');\r\n        chessboard__field.classList.add('chessboard__field');\r\n        chessboard.appendChild(chessboard__field);\r\n\r\n        for (let row = 0; row < 8; row++ ) {\r\n            for (let column = 0; column < 8; column++) {\r\n                let square = document.createElement('div');\r\n                \r\n                square.classList.add('chessboard__square');\r\n                let color = (row + column) % 2;\r\n                if (color == 0) {square.classList.add('chessboard__square_light');}\r\n                    else {square.classList.add('chessboard__square_dark');}\r\n                square.classList.add('position-' + column + '-' + row);\r\n                square.innerHTML = \" \";\r\n                square.positionX = column;\r\n                square.positionY  = row;\r\n                square.addEventListener('click', function clickSquare () {window.chessboard.handleClick(this.positionX, this.positionY);});\r\n                chessboard__field.appendChild(square);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleClick (potentialMoveX, potentialMoveY) {\r\n        // Если выбрали свою фигуру\r\n        if (\r\n            (\r\n            !(this['board'][potentialMoveX][potentialMoveY] == null) &&\r\n            this.turn == this['board'][potentialMoveX][potentialMoveY]['color']\r\n            )\r\n            ) {\r\n            this.stage = 'select move';\r\n            if (this.selectedPosition != null) {\r\n                this.clearPossibleMoves();\r\n            }\r\n            this.selectedPosition = [potentialMoveX, potentialMoveY];\r\n            this['board'][potentialMoveX][potentialMoveY].defineMoves();\r\n            this.renderPossibleMoves();\r\n\r\n        }\r\n\r\n        //Если возможный ход\r\n        let isPossibleMove = false;\r\n        this.possibleMoves.forEach(function (index) {\r\n            if (index[0] == potentialMoveX && \r\n                index[1] == potentialMoveY) {\r\n                    isPossibleMove = true;\r\n                }\r\n        })\r\n        \r\n        if (isPossibleMove) {\r\n            this.clearPossibleMoves();\r\n            this.makeMove(potentialMoveX, potentialMoveY);\r\n            this.renderPosition();\r\n            if (this.turn == 'white') {\r\n                this.turn = 'black';\r\n            } else {\r\n                this.turn = 'white';\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    loadPosition (position) {\r\n        for (let index = 0, max = position.length; index < max; index++ ) {\r\n            let piece = position[index];\r\n            if (piece.piece && \r\n                piece.color && \r\n                piece.hasOwnProperty('positionX') && \r\n                piece.hasOwnProperty('positionY') &&\r\n                piece.positionX < 8 &&\r\n                piece.positionX >= 0 &&\r\n                piece.positionY < 8 &&\r\n                piece.positionY >= 0 \r\n                ) \r\n                {\r\n                    if (piece.piece == 'king') {\r\n                        this['board'][piece.positionX][piece.positionY] = new Piece(piece.color, piece.piece, this, piece.positionX, piece.positionY);\r\n                    }\r\n                    if (piece.piece == 'pawn') {\r\n                        this['board'][piece.positionX][piece.positionY] = new Pawn(piece.color, piece.piece, this, piece.positionX, piece.positionY);\r\n                    }\r\n                    if (piece.piece == 'knight') {\r\n                        this['board'][piece.positionX][piece.positionY] = new Knight(piece.color, piece.piece, this, piece.positionX, piece.positionY);\r\n                    }\r\n                    if (piece.piece == 'rook') {\r\n                        this['board'][piece.positionX][piece.positionY] = new Rook(piece.color, piece.piece, this, piece.positionX, piece.positionY);\r\n                    }\r\n                    if (piece.piece == 'beeshop') {\r\n                        this['board'][piece.positionX][piece.positionY] = new Beeshop(piece.color, piece.piece, this, piece.positionX, piece.positionY);\r\n                    }\r\n                    if (piece.piece == 'queen') {\r\n                        this['board'][piece.positionX][piece.positionY] = new Piece(piece.color, piece.piece, this, piece.positionX, piece.positionY);\r\n                    }\r\n                }\r\n            \r\n        }\r\n    }\r\n\r\n    renderPosition () {\r\n        for (let row = 0; row < 8; row++) {\r\n            for (let column = 0; column <8; column++) {\r\n                let square = document.querySelector(`.position-${row}-${column}`);\r\n                if (this['board'][row][column] != null &&\r\n                    this['board'][row][column].hasOwnProperty('img')\r\n                    ) {\r\n                    square.style.backgroundImage = this['board'][row][column]['img'];\r\n                    square.style.backgroundSize = 'cover';\r\n                }\r\n                else {\r\n                    square.style.backgroundImage = '';\r\n                    square.style.backgroundSize = '';\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    clearPossibleMoves () {\r\n        for (let delPosition = 0; delPosition < this.possibleMoves.length; delPosition++) {\r\n            let square = document.querySelector(`.position-${this.possibleMoves[delPosition][0]}-${this.possibleMoves[delPosition][1]}`);\r\n            square.classList.remove('chessboard__possible-moves');\r\n        }\r\n        this.possibleMoves = [];\r\n        \r\n        let oldSelectedSquare = document.querySelector(`.position-${this.selectedPosition[0]}-${this.selectedPosition[1]}`);\r\n        oldSelectedSquare.classList.remove('chessboard__square_selected'); \r\n    }\r\n\r\n    renderPossibleMoves () {\r\n        let selectedSquare = document.querySelector(`.position-${this.selectedPosition[0]}-${this.selectedPosition[1]}`);\r\n        selectedSquare.classList.add('chessboard__square_selected');\r\n        for (let move = 0; move < this.possibleMoves.length; move++) {\r\n            let square = document.querySelector(`.position-${this.possibleMoves[move][0]}-${this.possibleMoves[move][1]}`);\r\n            square.classList.add('chessboard__possible-moves');\r\n        }\r\n    }\r\n\r\n    makeMove (moveToX, moveToY) {\r\n        this['board'][moveToX][moveToY] = this['board'][this.selectedPosition[0]][this.selectedPosition[1]];\r\n        this['board'][moveToX][moveToY]['positionX'] = moveToX;\r\n        this['board'][moveToX][moveToY]['positionY'] = moveToY;\r\n        this['board'][this.selectedPosition[0]][this.selectedPosition[1]] = null;\r\n        console.log('nothing');\r\n    }\r\n\r\n}\n;// CONCATENATED MODULE: ./sources-js/script.js\n\r\n\r\n\r\nwindow.onload = function () {\r\n    window.chessboard = new Chessboard (document.querySelector('.chess'));\r\n    chessboard.createHTMLboard();\r\n    chessboard.loadPosition(chessboard.initialPosition);\r\n    chessboard.renderPosition();\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ2xGO0FBQ0E7QUFDQSw4RUFBOEUsT0FBTztBQUNyRjtBQUNBO0FBQ0EsOEVBQThFLEtBQUs7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsU0FBUztBQUNuQyxpQ0FBaUMsV0FBVztBQUM1QyxpRUFBaUUsSUFBSSxHQUFHLE9BQU87QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MseUNBQXlDO0FBQzNFLDZEQUE2RCxtQ0FBbUMsR0FBRyxtQ0FBbUM7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UseUJBQXlCLEdBQUcseUJBQXlCO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLHlCQUF5QixHQUFHLHlCQUF5QjtBQUN0SDtBQUNBLDJCQUEyQixrQ0FBa0M7QUFDN0QsNkRBQTZELDRCQUE0QixHQUFHLDRCQUE0QjtBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDOztBQ3pOd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzc2dhbWUvLi9zb3VyY2VzLWpzL3BpZWNlcy1jbGFzc2VzL3BpZWNlLmpzPzQwYWEiLCJ3ZWJwYWNrOi8vY2hlc3NnYW1lLy4vc291cmNlcy1qcy9waWVjZXMtY2xhc3Nlcy9wYXduLmpzP2Y1MDgiLCJ3ZWJwYWNrOi8vY2hlc3NnYW1lLy4vc291cmNlcy1qcy9waWVjZXMtY2xhc3Nlcy9iZWVzaG9wLmpzPzViMzQiLCJ3ZWJwYWNrOi8vY2hlc3NnYW1lLy4vc291cmNlcy1qcy9waWVjZXMtY2xhc3Nlcy9rbmlnaHQuanM/Mzg4MiIsIndlYnBhY2s6Ly9jaGVzc2dhbWUvLi9zb3VyY2VzLWpzL3BpZWNlcy1jbGFzc2VzL3Jvb2suanM/YmU0MCIsIndlYnBhY2s6Ly9jaGVzc2dhbWUvLi9zb3VyY2VzLWpzL2NoZXNzYm9hcmQuanM/MTkzOSIsIndlYnBhY2s6Ly9jaGVzc2dhbWUvLi9zb3VyY2VzLWpzL3NjcmlwdC5qcz80N2Y5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQaWVjZSB7XHJcbiAgICBjb25zdHJ1Y3RvciAoY29sb3IsIHR5cGUsIGNoZXNzYm9hcmQsIHBvc2l0aW9uWCwgcG9zaXRpb25ZKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5pbWcgPSAndXJsKGltZy9waWVjZXMvJyArIHR5cGUudG9Mb3dlckNhc2UoKSArICdfJyArIGNvbG9yICsnLnN2ZyknO1xyXG4gICAgICAgIHRoaXMuY2hlc3Nib2FyZCA9IGNoZXNzYm9hcmQ7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvblggPSBwb3NpdGlvblg7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvblkgPSBwb3NpdGlvblk7XHJcbiAgICB9XHJcbiAgICBcclxufSIsImltcG9ydCB7UGllY2V9IGZyb20gJy4vcGllY2UnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhd24gZXh0ZW5kcyBQaWVjZSB7XHJcbiAgICBjb25zdHJ1Y3RvciAoY29sb3IsIHR5cGUsIGNoZXNzYm9hcmQsIHBvc2l0aW9uWCwgcG9zaXRpb25ZKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsdHlwZSwgY2hlc3Nib2FyZCwgcG9zaXRpb25YLCBwb3NpdGlvblkpO1xyXG4gICAgfVxyXG4gICAgZGVmaW5lTW92ZXMgKCkge1xyXG4gICAgICAgIGxldCBwb3RlbnRpYWxNb3ZlWCA9IHRoaXMucG9zaXRpb25YO1xyXG4gICAgICAgIGxldCBwb3RlbnRpYWxNb3ZlWTtcclxuICAgICAgICAvL9GF0L7QtCDQstC/0LXRgNC10LQgKNC90LUg0YDRg9Cx0LjRgilcclxuICAgICAgICBsZXQgbWF4TW92ZTtcclxuICAgICAgICBsZXQgdmVydGljYWw7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uWSA9PSAxICYmIHRoaXMuY29sb3IgPT0gJ3doaXRlJyB8fCBcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvblkgPT0gNiAmJiB0aGlzLmNvbG9yID09ICdibGFjaydcclxuICAgICAgICAgICAgKSBcclxuICAgICAgICAgICAge21heE1vdmUgPSAyO31cclxuICAgICAgICBlbHNlIHttYXhNb3ZlID0gMTt9IFxyXG4gICAgICAgIGZvciAodmVydGljYWwgPSAxOyB2ZXJ0aWNhbCA8PW1heE1vdmU7IHZlcnRpY2FsKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29sb3IgPT0gJ3doaXRlJykge3BvdGVudGlhbE1vdmVZID0gdGhpcy5wb3NpdGlvblkgKyB2ZXJ0aWNhbDt9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbG9yID09ICdibGFjaycpIHtwb3RlbnRpYWxNb3ZlWSA9IHRoaXMucG9zaXRpb25ZIC0gdmVydGljYWw7fVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCEodGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV0gPT0gbnVsbCkpIHticmVhazt9XHJcbiAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5wb3NzaWJsZU1vdmVzLnB1c2goW3BvdGVudGlhbE1vdmVYLCBwb3RlbnRpYWxNb3ZlWV0pOyAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v0YHRgNGD0LHQuNGC0Ywg0YTQuNCz0YPRgNGDXHJcbiAgICAgICAgdmVydGljYWwgPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09ICd3aGl0ZScpIHtwb3RlbnRpYWxNb3ZlWSA9IHRoaXMucG9zaXRpb25ZICsgdmVydGljYWw7fVxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09ICdibGFjaycpIHtwb3RlbnRpYWxNb3ZlWSA9IHRoaXMucG9zaXRpb25ZIC0gdmVydGljYWw7fVxyXG4gICAgICAgIGZvciAobGV0IHNoaWZ0WCA9IC0xOyBzaGlmdFggPD0gMTsgc2hpZnRYICs9Mikge1xyXG4gICAgICAgICAgICBwb3RlbnRpYWxNb3ZlWCA9IHRoaXMucG9zaXRpb25YICsgc2hpZnRYO1xyXG4gICAgICAgICAgICBpZiAocG90ZW50aWFsTW92ZVkgPiA3IHx8XHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWxNb3ZlWSA8IDAgfHxcclxuICAgICAgICAgICAgICAgIHBvdGVudGlhbE1vdmVYID4gNyB8fFxyXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsTW92ZVggPCAwIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzWydjaGVzc2JvYXJkJ11bJ2JvYXJkJ11bcG90ZW50aWFsTW92ZVhdW3BvdGVudGlhbE1vdmVZXSA9PSBudWxsIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID09IHRoaXNbJ2NoZXNzYm9hcmQnXVsnYm9hcmQnXVtwb3RlbnRpYWxNb3ZlWF1bcG90ZW50aWFsTW92ZVldWydjb2xvciddXHJcbiAgICAgICAgICAgICAgICApIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5wb3NzaWJsZU1vdmVzLnB1c2goW3BvdGVudGlhbE1vdmVYLCBwb3RlbnRpYWxNb3ZlWV0pOyAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtQaWVjZX0gZnJvbSAnLi9waWVjZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgQmVlc2hvcCBleHRlbmRzIFBpZWNlIHtcclxuICAgIGNvbnN0cnVjdG9yIChjb2xvciwgdHlwZSwgY2hlc3Nib2FyZCwgcG9zaXRpb25YLCBwb3NpdGlvblkpIHtcclxuICAgICAgICBzdXBlcihjb2xvcix0eXBlLCBjaGVzc2JvYXJkLCBwb3NpdGlvblgsIHBvc2l0aW9uWSk7XHJcbiAgICB9XHJcbiAgICBkZWZpbmVNb3ZlcyAoKSB7XHJcbiAgICAgICAgbGV0IHBvdGVudGlhbE1vdmVYO1xyXG4gICAgICAgIGxldCBwb3RlbnRpYWxNb3ZlWTtcclxuICAgICAgICBmb3IgKGxldCBob3Jpc29udGFsRGlyZWN0aW9uID0gLTE7IGhvcmlzb250YWxEaXJlY3Rpb24gPD0gMTsgaG9yaXNvbnRhbERpcmVjdGlvbiArPTIpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdmVydGljYWxEaXJlY3Rpb24gPSAtMTsgdmVydGljYWxEaXJlY3Rpb24gPD0gMTsgdmVydGljYWxEaXJlY3Rpb24gKz0yKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzaGlmdCA9IDE7IHNoaWZ0IDwgNzsgc2hpZnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvdGVudGlhbE1vdmVYID0gdGhpcy5wb3NpdGlvblggKyBzaGlmdCAqIGhvcmlzb250YWxEaXJlY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgcG90ZW50aWFsTW92ZVkgPSB0aGlzLnBvc2l0aW9uWSArIHNoaWZ0ICogdmVydGljYWxEaXJlY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvdGVudGlhbE1vdmVYID4gNyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3RlbnRpYWxNb3ZlWCA8IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG90ZW50aWFsTW92ZVkgPiA3IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvdGVudGlhbE1vdmVZIDwgMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0aGlzWydjaGVzc2JvYXJkJ11bJ2JvYXJkJ11bcG90ZW50aWFsTW92ZVhdW3BvdGVudGlhbE1vdmVZXSA9PSBudWxsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9PSB0aGlzWydjaGVzc2JvYXJkJ11bJ2JvYXJkJ11bcG90ZW50aWFsTW92ZVhdW3BvdGVudGlhbE1vdmVZXVsnY29sb3InXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHticmVhazt9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLnBvc3NpYmxlTW92ZXMucHVzaChbcG90ZW50aWFsTW92ZVgsIHBvdGVudGlhbE1vdmVZXSk7ICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgISh0aGlzWydjaGVzc2JvYXJkJ11bJ2JvYXJkJ11bcG90ZW50aWFsTW92ZVhdW3BvdGVudGlhbE1vdmVZXSA9PSBudWxsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHRoaXMuY29sb3IgPT0gdGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV1bJ2NvbG9yJ10pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7YnJlYWs7fVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1BpZWNlfSBmcm9tICcuL3BpZWNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBLbmlnaHQgZXh0ZW5kcyBQaWVjZSB7XHJcbiAgICBjb25zdHJ1Y3RvciAoY29sb3IsIHR5cGUsIGNoZXNzYm9hcmQsIHBvc2l0aW9uWCwgcG9zaXRpb25ZKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsdHlwZSwgY2hlc3Nib2FyZCwgcG9zaXRpb25YLCBwb3NpdGlvblkpO1xyXG4gICAgfVxyXG4gICAgZGVmaW5lTW92ZXMgKCkge1xyXG4gICAgICAgIGxldCBwb3RlbnRpYWxNb3ZlWDtcclxuICAgICAgICBsZXQgcG90ZW50aWFsTW92ZVk7XHJcbiAgICAgICAgZm9yIChsZXQgaG9yaXNvbnRhbERpcmVjdGlvbiA9IC0xOyBob3Jpc29udGFsRGlyZWN0aW9uIDw9IDE7IGhvcmlzb250YWxEaXJlY3Rpb24gKz0gMikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB2ZXJ0aWNhbERpcmVjdGlvbiA9IC0xOyB2ZXJ0aWNhbERpcmVjdGlvbiA8PSAxOyB2ZXJ0aWNhbERpcmVjdGlvbiArPTIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHNoaWZ0WCA9IDE7IHNoaWZ0WCA8PTI7IHNoaWZ0WCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgc2hpZnRZID0gMTsgc2hpZnRZIDw9Mjsgc2hpZnRZKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG90ZW50aWFsTW92ZVggPSB0aGlzLnBvc2l0aW9uWCArIHNoaWZ0WCAqIGhvcmlzb250YWxEaXJlY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvdGVudGlhbE1vdmVZID0gdGhpcy5wb3NpdGlvblkgKyBzaGlmdFkgKiB2ZXJ0aWNhbERpcmVjdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnRYID09IHNoaWZ0WSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG90ZW50aWFsTW92ZVggPCAwIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3RlbnRpYWxNb3ZlWCA+IDcgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvdGVudGlhbE1vdmVZIDwgMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG90ZW50aWFsTW92ZVkgPiA3IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEodGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV0gPT0gbnVsbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID09IHRoaXNbJ2NoZXNzYm9hcmQnXVsnYm9hcmQnXVtwb3RlbnRpYWxNb3ZlWF1bcG90ZW50aWFsTW92ZVldWydjb2xvciddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLnBvc3NpYmxlTW92ZXMucHVzaChbcG90ZW50aWFsTW92ZVgsIHBvdGVudGlhbE1vdmVZXSk7ICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7UGllY2V9IGZyb20gJy4vcGllY2UnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJvb2sgZXh0ZW5kcyBQaWVjZSB7XHJcbiAgICBjb25zdHJ1Y3RvciAoY29sb3IsIHR5cGUsIGNoZXNzYm9hcmQsIHBvc2l0aW9uWCwgcG9zaXRpb25ZKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsdHlwZSwgY2hlc3Nib2FyZCwgcG9zaXRpb25YLCBwb3NpdGlvblkpO1xyXG4gICAgfVxyXG4gICAgZGVmaW5lTW92ZXMgKCkge1xyXG4gICAgICAgIGxldCBwb3RlbnRpYWxNb3ZlWDtcclxuICAgICAgICBsZXQgcG90ZW50aWFsTW92ZVk7XHJcbiAgICAgICAgZm9yIChsZXQgaG9yaXNvbnRhbERpcmVjdGlvbiA9IC0xOyBob3Jpc29udGFsRGlyZWN0aW9uIDw9IDE7IGhvcmlzb250YWxEaXJlY3Rpb24gKz0yKSB7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbE1vdmVZID0gdGhpcy5wb3NpdGlvblk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHNoaWZ0WCA9IDE7IHNoaWZ0WCA8IDc7IHNoaWZ0WCsrKSB7XHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWxNb3ZlWCA9IHRoaXMucG9zaXRpb25YICsgc2hpZnRYICogaG9yaXNvbnRhbERpcmVjdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmIChwb3RlbnRpYWxNb3ZlWCA+IDcgfHxcclxuICAgICAgICAgICAgICAgICAgICBwb3RlbnRpYWxNb3ZlWCA8IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHRoaXNbJ2NoZXNzYm9hcmQnXVsnYm9hcmQnXVtwb3RlbnRpYWxNb3ZlWF1bcG90ZW50aWFsTW92ZVldID09IG51bGwpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPT0gdGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV1bJ2NvbG9yJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICkge2JyZWFrO31cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5wb3NzaWJsZU1vdmVzLnB1c2goW3BvdGVudGlhbE1vdmVYLCBwb3RlbnRpYWxNb3ZlWV0pOyAgXHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICEodGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV0gPT0gbnVsbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAhKHRoaXMuY29sb3IgPT0gdGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV1bJ2NvbG9yJ10pXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICkge2JyZWFrO31cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCB2ZXJ0aWNhbERpcmVjdGlvbiA9IC0xOyB2ZXJ0aWNhbERpcmVjdGlvbiA8PSAxOyB2ZXJ0aWNhbERpcmVjdGlvbiArPTIpIHtcclxuICAgICAgICAgICAgcG90ZW50aWFsTW92ZVggPSB0aGlzLnBvc2l0aW9uWDtcclxuICAgICAgICAgICAgZm9yIChsZXQgc2hpZnRZID0gMTsgc2hpZnRZIDwgNzsgc2hpZnRZKyspIHtcclxuICAgICAgICAgICAgICAgIHBvdGVudGlhbE1vdmVZID0gdGhpcy5wb3NpdGlvblkgKyBzaGlmdFkgKiB2ZXJ0aWNhbERpcmVjdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmIChwb3RlbnRpYWxNb3ZlWSA+IDcgfHxcclxuICAgICAgICAgICAgICAgICAgICBwb3RlbnRpYWxNb3ZlWSA8IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHRoaXNbJ2NoZXNzYm9hcmQnXVsnYm9hcmQnXVtwb3RlbnRpYWxNb3ZlWF1bcG90ZW50aWFsTW92ZVldID09IG51bGwpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPT0gdGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV1bJ2NvbG9yJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICkge2JyZWFrO31cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5wb3NzaWJsZU1vdmVzLnB1c2goW3BvdGVudGlhbE1vdmVYLCBwb3RlbnRpYWxNb3ZlWV0pOyAgXHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICEodGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV0gPT0gbnVsbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAhKHRoaXMuY29sb3IgPT0gdGhpc1snY2hlc3Nib2FyZCddWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV1bJ2NvbG9yJ10pXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICkge2JyZWFrO31cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1BpZWNlfSBmcm9tICcuL3BpZWNlcy1jbGFzc2VzL3BpZWNlJztcclxuaW1wb3J0IHtQYXdufSBmcm9tICcuL3BpZWNlcy1jbGFzc2VzL3Bhd24nO1xyXG5pbXBvcnQge0JlZXNob3B9IGZyb20gJy4vcGllY2VzLWNsYXNzZXMvYmVlc2hvcCc7XHJcbmltcG9ydCB7S25pZ2h0fSBmcm9tICcuL3BpZWNlcy1jbGFzc2VzL2tuaWdodCc7XHJcbmltcG9ydCB7Um9va30gZnJvbSAnLi9waWVjZXMtY2xhc3Nlcy9yb29rJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVzc2JvYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yICh0YXJnZXROb2RlKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsUG9zaXRpb24gPSBbXHJcbiAgICAgICAgICAgIC8vd2hpdGVzXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJwYXduXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDAsIHBvc2l0aW9uWTogMX0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJwYXduXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDEsIHBvc2l0aW9uWTogMX0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJwYXduXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDIsIHBvc2l0aW9uWTogMX0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJwYXduXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDMsIHBvc2l0aW9uWTogMX0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJwYXduXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDQsIHBvc2l0aW9uWTogMX0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJwYXduXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDUsIHBvc2l0aW9uWTogMX0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJwYXduXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDYsIHBvc2l0aW9uWTogMX0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJwYXduXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDcsIHBvc2l0aW9uWTogMX0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJyb29rXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDAsIHBvc2l0aW9uWTogMH0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJrbmlnaHRcIiwgY29sb3I6ICd3aGl0ZScsIHBvc2l0aW9uWDogMSwgcG9zaXRpb25ZOiAwfSxcclxuICAgICAgICAgICAge3BpZWNlOiBcImJlZXNob3BcIiwgY29sb3I6ICd3aGl0ZScsIHBvc2l0aW9uWDogMiwgcG9zaXRpb25ZOiAwfSxcclxuICAgICAgICAgICAge3BpZWNlOiBcImtpbmdcIiwgY29sb3I6ICd3aGl0ZScsIHBvc2l0aW9uWDogMywgcG9zaXRpb25ZOiAwfSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInF1ZWVuXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDQsIHBvc2l0aW9uWTogMH0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJiZWVzaG9wXCIsIGNvbG9yOiAnd2hpdGUnLCBwb3NpdGlvblg6IDUsIHBvc2l0aW9uWTogMH0sXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJrbmlnaHRcIiwgY29sb3I6ICd3aGl0ZScsIHBvc2l0aW9uWDogNiwgcG9zaXRpb25ZOiAwfSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInJvb2tcIiwgY29sb3I6ICd3aGl0ZScsIHBvc2l0aW9uWDogNywgcG9zaXRpb25ZOiAwfSxcclxuICAgICAgICAgICAgLy9ibGFja3NcclxuICAgICAgICAgICAge3BpZWNlOiBcInBhd25cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogMCwgcG9zaXRpb25ZOiA2fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInBhd25cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogMSwgcG9zaXRpb25ZOiA2fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInBhd25cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogMiwgcG9zaXRpb25ZOiA2fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInBhd25cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogMywgcG9zaXRpb25ZOiA2fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInBhd25cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogNCwgcG9zaXRpb25ZOiA2fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInBhd25cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogNSwgcG9zaXRpb25ZOiA2fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInBhd25cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogNiwgcG9zaXRpb25ZOiA2fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInBhd25cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogNywgcG9zaXRpb25ZOiA2fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcInJvb2tcIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogMCwgcG9zaXRpb25ZOiA3fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcImtuaWdodFwiLCBjb2xvcjogJ2JsYWNrJywgcG9zaXRpb25YOiAxLCBwb3NpdGlvblk6IDd9LFxyXG4gICAgICAgICAgICB7cGllY2U6IFwiYmVlc2hvcFwiLCBjb2xvcjogJ2JsYWNrJywgcG9zaXRpb25YOiAyLCBwb3NpdGlvblk6IDd9LFxyXG4gICAgICAgICAgICB7cGllY2U6IFwia2luZ1wiLCBjb2xvcjogJ2JsYWNrJywgcG9zaXRpb25YOiAzLCBwb3NpdGlvblk6IDd9LFxyXG4gICAgICAgICAgICB7cGllY2U6IFwicXVlZW5cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogNCwgcG9zaXRpb25ZOiA3fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcImJlZXNob3BcIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogNSwgcG9zaXRpb25ZOiA3fSxcclxuICAgICAgICAgICAge3BpZWNlOiBcImtuaWdodFwiLCBjb2xvcjogJ2JsYWNrJywgcG9zaXRpb25YOiA2LCBwb3NpdGlvblk6IDd9LFxyXG4gICAgICAgICAgICB7cGllY2U6IFwicm9va1wiLCBjb2xvcjogJ2JsYWNrJywgcG9zaXRpb25YOiA3LCBwb3NpdGlvblk6IDd9LFxyXG4gICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIHtwaWVjZTogXCJxdWVlblwiLCBjb2xvcjogJ2JsYWNrJywgcG9zaXRpb25YOiAzLCBwb3NpdGlvblk6IDJ9LFxyXG4gICAgICAgICAgICB7cGllY2U6IFwicXVlZW5cIiwgY29sb3I6ICdibGFjaycsIHBvc2l0aW9uWDogMywgcG9zaXRpb25ZOiA1fSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Tm9kZSA9IHRhcmdldE5vZGU7XHJcbiAgICAgICAgdGhpcy50dXJuID0gJ3doaXRlJzsgXHJcbiAgICAgICAgdGhpcy5zdGFnZSA9IFwic2VsZWN0IHBpZWNlXCI7IC8v0JLQvtC30LzQvtC20L3Ri9C1INC30L3QsNGH0LXQvdC40Y86IHNlbGVjdCBwaWVjZSwgc2VsZWN0IG1vdmVcclxuICAgICAgICB0aGlzLnNlbGVjdGVkUGllY2UgPSBudWxsOyBcclxuICAgICAgICB0aGlzLnNlbGVjdGVkUG9zaXRpb24gPSBudWxsOyAvL9CS0L7Qt9C80L7QttC90YvQtSDQt9C90LDRh9C10L3QuNGPOiBudWxsINC40LvQuCDQvNCw0YHRgdC40LIg0L/QvtC30LjRhtC40Lgg0LLRi9Cx0YDQsNC90L3QvtC5INGE0LjQs9GD0YDRi1xyXG4gICAgICAgIHRoaXMucG9zc2libGVNb3ZlcyA9IFtdOyBcclxuICAgICAgICB0aGlzLmJvYXJkID0gW107IFxyXG4gICAgICAgIHRoaXMuY3JlYXRlQm9hcmQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb2FyZCAoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgODsgcm93KysgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucHVzaChbXSk7XHJcbiAgICAgICAgICAgIGxldCBzdHJpcGUgPSB0aGlzWydib2FyZCddW3Jvd107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IDg7IGNvbHVtbisrKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpcGUucHVzaChudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVIVE1MYm9hcmQgKCkge1xyXG4gICAgICAgIGxldCBjaGVzc2JvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY2hlc3Nib2FyZC5jbGFzc0xpc3QuYWRkKCdjaGVzc2JvYXJkJyk7XHJcbiAgICAgICAgdGhpcy50YXJnZXROb2RlLmFwcGVuZENoaWxkKGNoZXNzYm9hcmQpO1xyXG4gICAgICAgIGxldCBjaGVzc2JvYXJkX19maWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNoZXNzYm9hcmRfX2ZpZWxkLmNsYXNzTGlzdC5hZGQoJ2NoZXNzYm9hcmRfX2ZpZWxkJyk7XHJcbiAgICAgICAgY2hlc3Nib2FyZC5hcHBlbmRDaGlsZChjaGVzc2JvYXJkX19maWVsZCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDg7IHJvdysrICkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCA4OyBjb2x1bW4rKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBzcXVhcmUuY2xhc3NMaXN0LmFkZCgnY2hlc3Nib2FyZF9fc3F1YXJlJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSAocm93ICsgY29sdW1uKSAlIDI7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sb3IgPT0gMCkge3NxdWFyZS5jbGFzc0xpc3QuYWRkKCdjaGVzc2JvYXJkX19zcXVhcmVfbGlnaHQnKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7c3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2NoZXNzYm9hcmRfX3NxdWFyZV9kYXJrJyk7fVxyXG4gICAgICAgICAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoJ3Bvc2l0aW9uLScgKyBjb2x1bW4gKyAnLScgKyByb3cpO1xyXG4gICAgICAgICAgICAgICAgc3F1YXJlLmlubmVySFRNTCA9IFwiIFwiO1xyXG4gICAgICAgICAgICAgICAgc3F1YXJlLnBvc2l0aW9uWCA9IGNvbHVtbjtcclxuICAgICAgICAgICAgICAgIHNxdWFyZS5wb3NpdGlvblkgID0gcm93O1xyXG4gICAgICAgICAgICAgICAgc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gY2xpY2tTcXVhcmUgKCkge3dpbmRvdy5jaGVzc2JvYXJkLmhhbmRsZUNsaWNrKHRoaXMucG9zaXRpb25YLCB0aGlzLnBvc2l0aW9uWSk7fSk7XHJcbiAgICAgICAgICAgICAgICBjaGVzc2JvYXJkX19maWVsZC5hcHBlbmRDaGlsZChzcXVhcmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNsaWNrIChwb3RlbnRpYWxNb3ZlWCwgcG90ZW50aWFsTW92ZVkpIHtcclxuICAgICAgICAvLyDQldGB0LvQuCDQstGL0LHRgNCw0LvQuCDRgdCy0L7RjiDRhNC40LPRg9GA0YNcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIChcclxuICAgICAgICAgICAgISh0aGlzWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV0gPT0gbnVsbCkgJiZcclxuICAgICAgICAgICAgdGhpcy50dXJuID09IHRoaXNbJ2JvYXJkJ11bcG90ZW50aWFsTW92ZVhdW3BvdGVudGlhbE1vdmVZXVsnY29sb3InXVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YWdlID0gJ3NlbGVjdCBtb3ZlJztcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRQb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUG9zc2libGVNb3ZlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQb3NpdGlvbiA9IFtwb3RlbnRpYWxNb3ZlWCwgcG90ZW50aWFsTW92ZVldO1xyXG4gICAgICAgICAgICB0aGlzWydib2FyZCddW3BvdGVudGlhbE1vdmVYXVtwb3RlbnRpYWxNb3ZlWV0uZGVmaW5lTW92ZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQb3NzaWJsZU1vdmVzKCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/QldGB0LvQuCDQstC+0LfQvNC+0LbQvdGL0Lkg0YXQvtC0XHJcbiAgICAgICAgbGV0IGlzUG9zc2libGVNb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb3NzaWJsZU1vdmVzLmZvckVhY2goZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleFswXSA9PSBwb3RlbnRpYWxNb3ZlWCAmJiBcclxuICAgICAgICAgICAgICAgIGluZGV4WzFdID09IHBvdGVudGlhbE1vdmVZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNQb3NzaWJsZU1vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzUG9zc2libGVNb3ZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJQb3NzaWJsZU1vdmVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFrZU1vdmUocG90ZW50aWFsTW92ZVgsIHBvdGVudGlhbE1vdmVZKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50dXJuID09ICd3aGl0ZScpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHVybiA9ICdibGFjayc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm4gPSAnd2hpdGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBsb2FkUG9zaXRpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwLCBtYXggPSBwb3NpdGlvbi5sZW5ndGg7IGluZGV4IDwgbWF4OyBpbmRleCsrICkge1xyXG4gICAgICAgICAgICBsZXQgcGllY2UgPSBwb3NpdGlvbltpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChwaWVjZS5waWVjZSAmJiBcclxuICAgICAgICAgICAgICAgIHBpZWNlLmNvbG9yICYmIFxyXG4gICAgICAgICAgICAgICAgcGllY2UuaGFzT3duUHJvcGVydHkoJ3Bvc2l0aW9uWCcpICYmIFxyXG4gICAgICAgICAgICAgICAgcGllY2UuaGFzT3duUHJvcGVydHkoJ3Bvc2l0aW9uWScpICYmXHJcbiAgICAgICAgICAgICAgICBwaWVjZS5wb3NpdGlvblggPCA4ICYmXHJcbiAgICAgICAgICAgICAgICBwaWVjZS5wb3NpdGlvblggPj0gMCAmJlxyXG4gICAgICAgICAgICAgICAgcGllY2UucG9zaXRpb25ZIDwgOCAmJlxyXG4gICAgICAgICAgICAgICAgcGllY2UucG9zaXRpb25ZID49IDAgXHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZS5waWVjZSA9PSAna2luZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1snYm9hcmQnXVtwaWVjZS5wb3NpdGlvblhdW3BpZWNlLnBvc2l0aW9uWV0gPSBuZXcgUGllY2UocGllY2UuY29sb3IsIHBpZWNlLnBpZWNlLCB0aGlzLCBwaWVjZS5wb3NpdGlvblgsIHBpZWNlLnBvc2l0aW9uWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZS5waWVjZSA9PSAncGF3bicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1snYm9hcmQnXVtwaWVjZS5wb3NpdGlvblhdW3BpZWNlLnBvc2l0aW9uWV0gPSBuZXcgUGF3bihwaWVjZS5jb2xvciwgcGllY2UucGllY2UsIHRoaXMsIHBpZWNlLnBvc2l0aW9uWCwgcGllY2UucG9zaXRpb25ZKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlLnBpZWNlID09ICdrbmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJ2JvYXJkJ11bcGllY2UucG9zaXRpb25YXVtwaWVjZS5wb3NpdGlvblldID0gbmV3IEtuaWdodChwaWVjZS5jb2xvciwgcGllY2UucGllY2UsIHRoaXMsIHBpZWNlLnBvc2l0aW9uWCwgcGllY2UucG9zaXRpb25ZKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlLnBpZWNlID09ICdyb29rJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWydib2FyZCddW3BpZWNlLnBvc2l0aW9uWF1bcGllY2UucG9zaXRpb25ZXSA9IG5ldyBSb29rKHBpZWNlLmNvbG9yLCBwaWVjZS5waWVjZSwgdGhpcywgcGllY2UucG9zaXRpb25YLCBwaWVjZS5wb3NpdGlvblkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGllY2UucGllY2UgPT0gJ2JlZXNob3AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJ2JvYXJkJ11bcGllY2UucG9zaXRpb25YXVtwaWVjZS5wb3NpdGlvblldID0gbmV3IEJlZXNob3AocGllY2UuY29sb3IsIHBpZWNlLnBpZWNlLCB0aGlzLCBwaWVjZS5wb3NpdGlvblgsIHBpZWNlLnBvc2l0aW9uWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZS5waWVjZSA9PSAncXVlZW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJ2JvYXJkJ11bcGllY2UucG9zaXRpb25YXVtwaWVjZS5wb3NpdGlvblldID0gbmV3IFBpZWNlKHBpZWNlLmNvbG9yLCBwaWVjZS5waWVjZSwgdGhpcywgcGllY2UucG9zaXRpb25YLCBwaWVjZS5wb3NpdGlvblkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBvc2l0aW9uICgpIHtcclxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA4OyByb3crKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPDg7IGNvbHVtbisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBvc2l0aW9uLSR7cm93fS0ke2NvbHVtbn1gKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzWydib2FyZCddW3Jvd11bY29sdW1uXSAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1snYm9hcmQnXVtyb3ddW2NvbHVtbl0uaGFzT3duUHJvcGVydHkoJ2ltZycpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IHRoaXNbJ2JvYXJkJ11bcm93XVtjb2x1bW5dWydpbWcnXTtcclxuICAgICAgICAgICAgICAgICAgICBzcXVhcmUuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY292ZXInO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyUG9zc2libGVNb3ZlcyAoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgZGVsUG9zaXRpb24gPSAwOyBkZWxQb3NpdGlvbiA8IHRoaXMucG9zc2libGVNb3Zlcy5sZW5ndGg7IGRlbFBvc2l0aW9uKyspIHtcclxuICAgICAgICAgICAgbGV0IHNxdWFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wb3NpdGlvbi0ke3RoaXMucG9zc2libGVNb3Zlc1tkZWxQb3NpdGlvbl1bMF19LSR7dGhpcy5wb3NzaWJsZU1vdmVzW2RlbFBvc2l0aW9uXVsxXX1gKTtcclxuICAgICAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZXNzYm9hcmRfX3Bvc3NpYmxlLW1vdmVzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucG9zc2libGVNb3ZlcyA9IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBvbGRTZWxlY3RlZFNxdWFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wb3NpdGlvbi0ke3RoaXMuc2VsZWN0ZWRQb3NpdGlvblswXX0tJHt0aGlzLnNlbGVjdGVkUG9zaXRpb25bMV19YCk7XHJcbiAgICAgICAgb2xkU2VsZWN0ZWRTcXVhcmUuY2xhc3NMaXN0LnJlbW92ZSgnY2hlc3Nib2FyZF9fc3F1YXJlX3NlbGVjdGVkJyk7IFxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBvc3NpYmxlTW92ZXMgKCkge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZFNxdWFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wb3NpdGlvbi0ke3RoaXMuc2VsZWN0ZWRQb3NpdGlvblswXX0tJHt0aGlzLnNlbGVjdGVkUG9zaXRpb25bMV19YCk7XHJcbiAgICAgICAgc2VsZWN0ZWRTcXVhcmUuY2xhc3NMaXN0LmFkZCgnY2hlc3Nib2FyZF9fc3F1YXJlX3NlbGVjdGVkJyk7XHJcbiAgICAgICAgZm9yIChsZXQgbW92ZSA9IDA7IG1vdmUgPCB0aGlzLnBvc3NpYmxlTW92ZXMubGVuZ3RoOyBtb3ZlKyspIHtcclxuICAgICAgICAgICAgbGV0IHNxdWFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wb3NpdGlvbi0ke3RoaXMucG9zc2libGVNb3Zlc1ttb3ZlXVswXX0tJHt0aGlzLnBvc3NpYmxlTW92ZXNbbW92ZV1bMV19YCk7XHJcbiAgICAgICAgICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKCdjaGVzc2JvYXJkX19wb3NzaWJsZS1tb3ZlcycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtYWtlTW92ZSAobW92ZVRvWCwgbW92ZVRvWSkge1xyXG4gICAgICAgIHRoaXNbJ2JvYXJkJ11bbW92ZVRvWF1bbW92ZVRvWV0gPSB0aGlzWydib2FyZCddW3RoaXMuc2VsZWN0ZWRQb3NpdGlvblswXV1bdGhpcy5zZWxlY3RlZFBvc2l0aW9uWzFdXTtcclxuICAgICAgICB0aGlzWydib2FyZCddW21vdmVUb1hdW21vdmVUb1ldWydwb3NpdGlvblgnXSA9IG1vdmVUb1g7XHJcbiAgICAgICAgdGhpc1snYm9hcmQnXVttb3ZlVG9YXVttb3ZlVG9ZXVsncG9zaXRpb25ZJ10gPSBtb3ZlVG9ZO1xyXG4gICAgICAgIHRoaXNbJ2JvYXJkJ11bdGhpcy5zZWxlY3RlZFBvc2l0aW9uWzBdXVt0aGlzLnNlbGVjdGVkUG9zaXRpb25bMV1dID0gbnVsbDtcclxuICAgICAgICBjb25zb2xlLmxvZygnbm90aGluZycpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7Q2hlc3Nib2FyZH0gZnJvbSAnLi9jaGVzc2JvYXJkJztcclxuXHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LmNoZXNzYm9hcmQgPSBuZXcgQ2hlc3Nib2FyZCAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoZXNzJykpO1xyXG4gICAgY2hlc3Nib2FyZC5jcmVhdGVIVE1MYm9hcmQoKTtcclxuICAgIGNoZXNzYm9hcmQubG9hZFBvc2l0aW9uKGNoZXNzYm9hcmQuaW5pdGlhbFBvc2l0aW9uKTtcclxuICAgIGNoZXNzYm9hcmQucmVuZGVyUG9zaXRpb24oKTtcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///311\n")}},__webpack_exports__={};__webpack_modules__[311]()})();